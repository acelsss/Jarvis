# Tool Contract v0.1

## 概述

工具契约定义了工具的执行接口和元数据。

## 契约字段

- `tool_id`: 工具唯一标识
- `name`: 工具名称
- `description`: 工具描述
- `parameters`: 参数定义（JSON Schema）
- `risk_level`: 风险等级（R0, R1, R2, R3）
- `requires_approval`: 是否需要审批

## 风险等级说明

- `R0`: 无风险，只读/纯生成，无副作用（可自动执行）
- `R1`: 低风险，低风险副作用（写入 sandbox、新建文件）（自动执行 + 必须审计）
- `R2`: 中风险，需要审批（运行未知代码、安装依赖、修改配置）
- `R3`: 高风险，需要审批（删除/覆盖、对外发布、涉及账号/支付/密钥、生产环境）

审批规则：R2 和 R3 风险等级需要审批后才能执行。

## 执行接口

```python
async def execute(params: dict) -> dict:
    """执行工具并返回结果"""
    pass
```

## v0.1 实现

- 基础工具注册机制
- 参数验证
- 执行结果封装

## 向后兼容说明

**注意**：旧版本文档中可能出现的风险等级名称（如 `low`、`medium`、`high`）已废弃。请以代码契约 `core/contracts/risk.py` 中定义的风险等级（R0-R3）为准。
